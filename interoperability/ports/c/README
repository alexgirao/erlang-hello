- http://localhost/erlang/doc/doc/tutorial/c_port.html#4

4.3 Running the Example

1. Compile the C code.

    unix> gcc -o extprg complex.c erl_comm.c port.c

2. Start Erlang and compile the Erlang code.

    unix> erl
    Erlang (BEAM) emulator version 4.9.1.2

    Eshell V4.9.1.2 (abort with ^G)
    1> c(complex1).
    {ok,complex1}

3. Run the example.

    2> complex1:start("extprg").

       or

    2> complex1:start(begin {ok, Dir} = file:get_cwd(), Dir ++ "/extprg" end).
    <0.34.0>
    3> complex1:foo(3).
    4
    4> complex1:bar(5).
    10
    5> complex1:stop().
    stop
